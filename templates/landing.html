<!-- templates/landing.html -->
{% extends "base.html" %}

{% block content %}
<h1>Dashboard</h1>

<style>
table {
  font-family: arial, sans-serif;
  border-collapse: collapse;
  width: 100%;
}

td, th {
  border: 1px solid #dddddd;
  text-align: left;
  padding: 8px;
}

tr:nth-child(even) {
  background-color: #dddddd;
}
</style>

<div>
    <table>
        <colgroup>
    <col span="3" class="irrelevant" />
    <col span="2" class="flash" />
    <col span="1" class="flash" />
  </colgroup>
        <thead>
            <tr>
                <th>Trolley</th>
                <th>Device Name</th>
                <th>Mac</th>
                <th>BSSID</th>
                <th>Location</th>
                <th>Ping</th>
            </tr>
        </thead>
        <tbody>
        {% for piece in data %}
        <tr>
            <td>{{piece.trolley}}</td>
            <td>{{piece.device_name}}</td>
            <td>{{piece.mac}}</td>
            <td>{{piece.bssid}}</td>
            <td>{{piece.location}}</td>
            <td>
                {# targets the location data and updates it with the newest information#}
                <button hx-target="closest tr" hx-swap="innerHTML" hx-trigger="click" hx-get="ping/{{piece.mac}}">Ping</button>
            </td>
        <tr/>
        {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}
